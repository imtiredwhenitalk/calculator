<!DOCTYPE html>
<html lang="uk">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Калькулятор</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body class="app-bg text-slate-100">
        <main class="min-h-screen px-4 py-8">
            <div class="max-w-5xl mx-auto flex flex-col gap-6">
                <header class="panel panel-compact" aria-label="Mode selector">
                    <div class="view-bar">
                        <div class="view-tabs" role="tablist">
                            <button class="view-btn is-active" data-view="calculator" role="tab" data-i18n="view.calculator">Калькулятор</button>
                            <button class="view-btn" data-view="mathlab" role="tab" data-i18n="view.mathlab">Матем. лабораторія</button>
                        </div>
                        <div class="lang-picker">
                            <label class="sr-only" for="lang-select">Language</label>
                            <select id="lang-select" class="lang-select" aria-label="Language">
                                <option value="uk">UA</option>
                                <option value="en">EN</option>
                            </select>
                        </div>
                    </div>
                </header>

                <section class="panel view-panel calculator-panel is-active" data-view-panel="calculator" aria-label="Scientific Calculator">
                    <header class="flex items-center justify-between mb-4">
                        <div>
                            <p class="text-xs text-slate-50" data-i18n="app.subtitle">Науковий калькулятор</p>
                            <h1 class="font-display text-2xl" data-i18n="app.title">Калькулятор</h1>
                        </div>
                        <div class="chip" data-i18n="app.chip">Інженерний</div>
                    </header>
                    <input class="display" id="display" type="text" value="" readonly />
                    <div class="grid gap-2 grid-cols-4" id="calc-grid">
                        <button class="btn btn-func" data-action="clear" title="Clear">AC</button>
                        <button class="btn btn-func" data-action="back" title="Delete last">DEL</button>
                        <button class="btn btn-func" data-value="(">(</button>
                        <button class="btn btn-func" data-value=")">)</button>

                        <button class="btn btn-sci" data-value="sin(" title="Sine">sin</button>
                        <button class="btn btn-sci" data-value="cos(" title="Cosine">cos</button>
                        <button class="btn btn-sci" data-value="tan(" title="Tangent">tan</button>
                        <button class="btn btn-op" data-value="/">/</button>

                        <button class="btn btn-sci" data-value="log(" title="Log base 10">log</button>
                        <button class="btn btn-sci" data-value="ln(" title="Natural log">ln</button>
                        <button class="btn btn-sci" data-value="sqrt(" title="Square root">sqrt</button>
                        <button class="btn btn-op" data-value="*">*</button>

                        <button class="btn" data-value="7">7</button>
                        <button class="btn" data-value="8">8</button>
                        <button class="btn" data-value="9">9</button>
                        <button class="btn btn-op" data-value="-">-</button>

                        <button class="btn" data-value="4">4</button>
                        <button class="btn" data-value="5">5</button>
                        <button class="btn" data-value="6">6</button>
                        <button class="btn btn-op" data-value="+">+</button>

                        <button class="btn" data-value="1">1</button>
                        <button class="btn" data-value="2">2</button>
                        <button class="btn" data-value="3">3</button>
                        <button class="btn btn-sci" data-value="^" title="Power">x^y</button>

                        <button class="btn btn-wide" data-value="0">0</button>
                        <button class="btn" data-value=".">.</button>
                        <button class="btn btn-sci" data-value="pi" title="Pi">pi</button>
                        <button class="btn btn-sci btn-wide" data-value="e" title="Euler">e</button>

                        <button class="btn btn-eq" data-action="equals">=</button>
                    </div>
                </section>

                <section class="panel view-panel" data-view-panel="mathlab" aria-label="Math Lab">
                    <header class="flex flex-wrap items-center justify-between gap-3 mb-4">
                        <div>
                            <p class="text-xs text-slate-400" data-i18n="mathlab.subtitle">Матем. лабораторія</p>
                            <h2 class="font-display text-2xl" data-i18n="mathlab.title">Графіки, Матриці, Похідні</h2>
                            <p class="helper" data-i18n="mathlab.helper">Оберіть вкладку та виконайте короткі кроки нижче.</p>
                        </div>
                        <div class="tab-row" role="tablist">
                            <button class="tab-btn is-active" data-tab="graph" role="tab" data-i18n="tab.graph">Графік</button>
                            <button class="tab-btn" data-tab="matrix" role="tab" data-i18n="tab.matrix">Матриці</button>
                            <button class="tab-btn" data-tab="derivative" role="tab" data-i18n="tab.derivative">Похідна</button>
                            <button class="tab-btn" data-tab="sum" role="tab" data-i18n="tab.sum">Сума</button>
                        </div>
                    </header>

                    <div class="panel-stack">
                        <div class="tab-panel is-active" id="panel-graph" role="tabpanel">
                            <div class="panel-grid simple">
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="graph.label">Функція f(x)</label>
                                    <input id="graph-input" class="field" value="sin(x)" />
                                    <p class="helper" data-i18n="graph.step1">Крок 1: Введіть функцію через x.</p>
                                    <div class="range-row">
                                        <input id="graph-min" class="field small" value="0" />
                                        <input id="graph-max" class="field small" value="10" />
                                        <button class="btn btn-op" id="graph-plot" data-i18n="graph.plot">Побудувати</button>
                                    </div>
                                    <p class="helper" data-i18n="graph.step2">Крок 2: Задайте діапазон. Приклад: sin(x) + x^2</p>
                                    <p class="status" id="graph-status"></p>
                                </div>
                                <div class="panel-block">
                                    <canvas id="graph-canvas" height="260"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="tab-panel" id="panel-matrix" role="tabpanel">
                            <div class="panel-grid simple">
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="matrix.labelA">Матриця A</label>
                                    <textarea id="matrix-a" class="field" rows="4">1,2;3,4</textarea>
                                    <p class="helper" data-i18n="matrix.format">Формат: 1,2;3,4</p>
                                </div>
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="matrix.labelB">Матриця B</label>
                                    <textarea id="matrix-b" class="field" rows="4">5,6;7,8</textarea>
                                    <p class="helper" data-i18n="matrix.size">Такий самий розмір, як A</p>
                                </div>
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="matrix.operation">Операція</label>
                                    <div class="matrix-actions">
                                        <button class="btn btn-func" data-matrix="add">A + B</button>
                                        <button class="btn btn-func" data-matrix="mul">A x B</button>
                                        <button class="btn btn-func" data-matrix="det">det(A)</button>
                                    </div>
                                    <label class="panel-label mt-3" data-i18n="matrix.result">Результат</label>
                                    <textarea id="matrix-result" class="field" rows="4" readonly></textarea>
                                    <p class="status" id="matrix-status"></p>
                                </div>
                            </div>
                        </div>

                        <div class="tab-panel" id="panel-derivative" role="tabpanel">
                            <div class="panel-grid simple">
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="deriv.label">f(x)</label>
                                    <input id="deriv-fx" class="field" value="x^2 + 2*x" />
                                    <p class="helper" data-i18n="deriv.example">Приклад: x^2 + 2*x</p>
                                </div>
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="deriv.x0">x0</label>
                                    <input id="deriv-x" class="field" value="2" />
                                    <label class="panel-label mt-3" data-i18n="deriv.h">h</label>
                                    <input id="deriv-h" class="field" value="0.00001" />
                                    <p class="helper" data-i18n="deriv.step">Крок h для центральної різниці</p>
                                    <button class="btn btn-op mt-4" id="deriv-calc" data-i18n="common.result">Результат</button>
                                    <p class="status" id="deriv-status"></p>
                                </div>
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="common.result">Результат</label>
                                    <div class="result-box" id="deriv-result">---</div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-panel" id="panel-sum" role="tabpanel">
                            <div class="panel-grid simple">
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="sum.label">Сума виразу за n</label>
                                    <input id="sum-expr" class="field" value="1/(n^2)" />
                                    <p class="helper" data-i18n="sum.example">Приклад: 1/(n^2)</p>
                                    <div class="range-row">
                                        <input id="sum-start" class="field small" value="1" />
                                        <input id="sum-end" class="field small" value="5" />
                                        <button class="btn btn-op" id="sum-calc" data-i18n="common.result">Результат</button>
                                    </div>
                                    <p class="helper" data-i18n="sum.range">Діапазон: від .. до</p>
                                    <p class="status" id="sum-status"></p>
                                </div>
                                <div class="panel-block">
                                    <label class="panel-label" data-i18n="common.result">Результат</label>
                                    <div class="result-box" id="sum-result">---</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <script src="https://cdn.jsdelivr.net/npm/mathjs@11.11.2/lib/browser/math.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <script src="script.js"></script>
    </body>
</html>
